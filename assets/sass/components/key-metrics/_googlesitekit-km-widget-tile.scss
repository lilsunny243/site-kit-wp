/**
 * Key metric widget tile styles.
 *
 * Site Kit by Google, Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

.googlesitekit-tooltip.MuiTooltip-tooltip.googlesitekit-km-widget-tile-title__tooltip {
	border-radius: $br-xs;
	font-family: $f-primary;
	font-size: $fs-body-sm;
	font-weight: $fw-normal;
	letter-spacing: $ls-xs;
	line-height: $lh-body-sm;
	max-width: 160px;
	padding: 12px;

	> button {
		background: none;
		border: none;
		color: $c-surfaces-inverse-on-surface;
		padding-right: 0;
		text-decoration: underline;
	}
}

.googlesitekit-plugin {

	.googlesitekit-km-widget-tile {
		display: flex;
		justify-content: space-between;
		padding: $grid-gap-phone;

		@media (min-width: $bp-nonMobile) {
			flex-direction: column;
			padding: 18px 24px;
		}

		.googlesitekit-km-widget-tile__title-container {
			display: flex;
			flex-basis: 50%;
			flex-grow: 1;
		}

		.googlesitekit-km-widget-tile__title {
			color: $c-neutral-n-500;
			font-family: $f-primary;
			font-size: $fs-label-sm;
			font-weight: $fw-normal;
			letter-spacing: $ls-xs;
			line-height: 16px;
			margin: 0 8px 4px 0;
		}

		.googlesitekit-km-widget-tile__body {
			flex-basis: 50%;
			flex-grow: 1;
		}

		.googlesitekit-km-widget-tile__metric-change-container {
			align-items: flex-start;
			display: flex;
			gap: 8px;
			@media (min-width: $bp-nonMobile) {
				align-items: center;
			}
		}
	}

	.googlesitekit-km-widget-tile--numeric {
		.googlesitekit-km-widget-tile__metric {
			font-family: $f-secondary;
			font-size: $fs-headline-lg;
			margin-top: -8px;
			@media (min-width: $bp-nonMobile) {
				margin: 0;
			}
		}

		.googlesitekit-km-widget-tile__subtext {
			margin: 2px 0 0;
		}
	}

	.googlesitekit-km-widget-tile--text {
		.googlesitekit-km-widget-tile__metric {
			font-size: $fs-title-lg;
			font-weight: 500;

			margin-top: -8px;
			@media (min-width: $bp-nonMobile) {
				margin: 5px 0 0;
			}
		}

		.googlesitekit-km-widget-tile__subtext {
			margin: 2px 0 4px;
		}
	}

	.googlesitekit-km-widget-tile--table {
		flex-direction: column;

		.googlesitekit-km-widget-tile__table {
			display: flex;
			flex-direction: column;
			font-size: $fs-label-sm;
			margin-top: 12px;
			width: 100%;
		}

		.googlesitekit-table__body-row {
			display: flex;
			flex-direction: row;
			justify-content: space-between;
			padding: 2px 0;
		}

		.googlesitekit-table__body-item {
			margin-right: 10px;
			overflow: hidden;
			text-overflow: ellipsis;
			white-space: nowrap;

			&:last-child {
				margin-right: 0;
				overflow: visible;
				text-overflow: unset;
			}

			strong {
				font-weight: $fw-medium;
			}
		}

		.googlesitekit-km-widget-tile__table-plain-text {
			color: $c-surfaces-on-surface;
			font-size: $fs-body-sm;
			letter-spacing: $ls-xs;
			line-height: $lh-body-sm;
			margin: 0;
		}
	}

	.googlesitekit-km-widget-tile--numeric,
	.googlesitekit-km-widget-tile--text {
		.googlesitekit-km-widget-tile__title-container {
			flex-direction: column;

			@media (min-width: $bp-nonMobile) {
				flex-direction: row;
			}
		}
	}

	.googlesitekit-km-widget-tile__loading .googlesitekit-km-widget-tile__loading-body {
		margin-top: 10px;
	}

	// Styles for KMW tile error state.
	.googlesitekit-km-widget-tile--error {
		.googlesitekit-cta--error {
			background: $c-white;
			border: 2px solid $c-utility-on-error-container;

			.googlesitekit-cta__header_text {
				color: $c-neutral-n-500;
				flex-basis: 50%;
				font-family: $f-primary;
				font-size: $fs-label-sm;
				font-weight: $fw-normal;
				letter-spacing: $ls-xs;
				margin: 0 0 10px;
			}

			.googlesitekit-cta__title {
				color: $c-neutral-n-900;
				font-family: $f-primary;
				font-size: 18px;
				font-weight: $fw-normal;
			}

			// Required for correct order of button and text elements.
			.googlesitekit-report-error-actions {
				align-items: flex-start;
				flex-direction: column-reverse;
				gap: 0;
				overflow: hidden;

				.googlesitekit-error-retry-text {
					color: $c-neutral-n-900;
					margin: 0;
				}

				button,
				a.mdc-button {
					font-weight: $fw-medium;
					margin-top: 10px;
					padding: 6px 16px;
				}

				// Removes the external link icon.
				.googlesitekit-cta-link--external {
					background: none;
					color: $c-teal-t-500;
					padding-right: 0;
				}
			}
		}
	}
}
